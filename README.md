# PJ2 文档
## 17307130025 崔欣宇
## 文件说明
* /photosite: 后端代码
* /front-end: 前端代码
* README.md: 说明文档
## 完成情况
实现了部分bonus, 基础功能部分实现完全
### 整体设计
1. 架构
<br>
采用前后端分离架构, 前端: Vue.js 后端:php
2. 数据库<br>
Mysql8(aliyun)
3. 静态资源存储<br>
aliyun oss服务器, (利用它进行图片裁剪)
### 前端
前端使用vuejs框架进行开发
<br>css使用了bootstrap4和element-ui, 大部分样式为bootstrap, element主要使用里面的Message组件用于展示提示信息
* vuex存储用户登录信息, 维持登录状态
* vue-router 页面跳转及组件的展示
#### 使用vue的一些体会和理解
* 数据驱动. 和繁琐的dom操作说再见, 数据和视图的双向绑定方便开发, 改变数据, 视图也会随之改变
* 视图组件化: 一些公共的视图可以提取成单个组件, 组件复用减少了代码量. (导航栏作为组件), 网页由多个组件拼接或者嵌套而成.
##### 简化了开发流程, 提高了开发效率, 轻量级的web框架使用体验很好

<br>

### 后端
后端采用原生php进行开发, 但是后端的作用就是为前端提供restful api(接口命名不是很规范, 时间原因没有进行修改)
* 仿照mvc架构进行开发, 分为model service controller层, 这里controller层做了简化, 直接以api的形式开发, service直接实现相应的类, 没有设计接口
* 数据库操作: pdo, (代码重复较多)
* 登录模块: session存储用户信息, 保存登录状态
* 其他模块: 逻辑较为简单, 主要涉及相关的数据库操作, 模块化的代码差异不大.

### 部署
部署在华为云服务器上(借用的另一门课的服务器), 前后端分离部署
1. 服务器环境配置: nginx, httpd, php-fpm 
2. 前端部署: npm build, 生成dist文件夹, 上传到服务器上
3. 后端所有文件上传到服务器上(/var/www/html 文件夹下)
4. 修改相关配置文件, 配置好文件目录, nginx配置文件配置好代理转发地址
5. 新建二级域名, 进行域名解析, 部署完成
6. 项目地址: http://travels.996icu.today/